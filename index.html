<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="main.css">
<script src="./d3/d3.js" charset="utf-8"></script>
<title>darwin ding's website</title>
</head>
<body>
<div class="nav_bar_div">
<table class="nav_bar">
	<tr><td /><td><b>d</b></td></tr>
	<tr onclick="scrollToAnchor('about');" style="cursor:pointer;"><td /><td><b>a</b>bout</td></tr>
	<tr onclick="scrollToAnchor('resume');" style="cursor:pointer;"><td /><td><b>r</b>esume</td></tr>
	<tr onclick="scrollToAnchor('work');" style="cursor:pointer;"><td /><td><b>w</b>ork</td></tr>
	<tr onclick="scrollToAnchor('hobbies');" style="cursor:pointer;"><td class="left">hobb</td><td><b>i</b>es</td></tr>
	<tr onclick="scrollToAnchor('contact');" style="cursor:pointer;"><td class="left">co</td><td><b>n</b>tact</td></tr>
</table>
</div>
<section class="main">
<div class="panel" name="about" id="about">
	<h1>about</h1>
	<h2>What's up?</h2><img src="./img/darwin.jpg" width="200vw" height="200vw"/> I'm <b>Darwin Ding</b>, a programmer and engineer at <b>Rensselaer Polytechnic Institute</b>.<br /><br />I'm primarily a <b>backend developer in C/C++/Java</b>, but I've got experience with front-end dev, android app dev, game dev and much, much more!<br /><br />If I'm not coding, I might be lifting, playing piano, or cooking! I actually made some really cool visualizations for these for fun, <span onclick="scrollToAnchor('hobbies');" style="cursor:pointer;"><b>check them out below</b></span>!
	<br><br><div onclick="scrollToAnchor('contact');" class="onHoverBold" style="cursor:pointer;">Want to share ideas? Reach out!</div>
</div>
<div class="panel" name="resume" id="resume">
	<h1 style="margin-bottom: 0;">resume</h1>
	<div class="smalltext three onHoverBold" style="text-align:center; cursor:pointer;">below is a short summary, click here for full details!</div>
	<div id="resume_vis">
	<svg id="resume_svg" width="100%" style="padding-top: 10%;"></svg>
	</div>
</div>
<div class="panel" name="work" id="work">
	<h1>work</h1>
</div>
<div class="panel" name="hobbies" id="hobbies">
	<h1>hobbies</h1>

</div>
<div class="panel" name="contact" id="contact">
	<h1>contact</h1>
	<h2>Hit me up at...</h2>
	<br><a href="https://www.linkedin.com/in/darwin-ding-08b10ba0"><img src="./img/LinkedIn_Logo.png"/></a><a href="https://github.com/dubwub"><img src="./img/GitHub_Logo.png" width="30%" height="30%"/></a>
	<br>... or reach out to me at dingd@rpi.edu
</div>
</section>
</body>

<script type="text/javascript">
// simple scroll to anchor function pair that does a nice smooth d3 scroll to anchor points
function scrollToAnchor(id) {
	d3.transition()
    .duration(500)
    .tween("scroll", scrollTween((window.pageYOffset || document.documentElement.scrollTop) + 
    	document.getElementById(id).getBoundingClientRect().top)); // bounding client rect is relative to screen pos
}

function scrollTween(offset) {
  return function() {
    var i = d3.interpolateNumber(window.pageYOffset || document.documentElement.scrollTop, offset);
    return function(t) { scrollTo(i(window.pageYOffset), i(t)); };
  };
}

function updateWindow() {
	d3.select(".mainLine line").attr("y1",window.innerHeight*.1).attr("y2",window.innerHeight*.9);
}

// main line that divides the left nav bar and the right window. goes from 10% win height to 90%, also resizes automatically
var svgMainLine = d3.select("body").append("svg").attr("class","mainLine").attr("width", 2).attr("height",window.innerHeight).attr("style","position:fixed; left: 33%;");
var line = svgMainLine.append("line").attr("x1", 0).attr("y1", "10%").attr("x2",0).attr("y2","90%");
window.onresize = updateWindow;

var resume_data = [{
    "month_start": 9,
    "year_start": 2009,
    "month_end": 5,
    "year_end": 2013,
    "title": "Studied at <b>Lexington High School</b>",
    "desc": "Captain of the Chess Club, member of the school Wind Ensemble and Percussion Ensemble."
}, {
    "month_start": 9,
    "year_start": 2013,
    "month_end": 5,
    "year_end": 2017,
    "title": "Studied at <b>Rensselaer Polytechnic Institute</b>",
    "desc": "GPA: <b>3.72</b><br>Major: <b>Computer Science/Computer Systems Engineering Dual</b>"
},{
    "month_start": 6,
    "year_start": 2011,
    "month_end": 8,
    "year_end": 2012,
    "title": "Worked at <b>Accordare Inc.</b>",
    "desc": "JSP, etc"
},
{
    "month_start": 6,
    "year_start": 2013,
    "month_end": 8,
    "year_end": 2013,
    "title": "Worked at <b>Nexaweb</b>",
    "desc": "Cloudfront/S3 and stuff"
},
{
    "month_start": 6,
    "year_start": 2014,
    "month_end": 12,
    "year_end": 2015,
    "title": "Worked at <b>GE Oil & Gas</b>",
    "desc": "Worked on Project Blue & Flow Analytics"
}
];

//resume bar chart styling
var resume_svg = d3.select("#resume_svg");
resume_svg.style("height",resume_data.length*21);

function create_resume_table(obj) {
	var newTable = document.createElement("table");
	var tr1 = document.createElement("tr"); newTable.appendChild(tr1);
	var td1 = document.createElement("td"); tr1.appendChild(td1);
	td1.innerHTML = obj.title;
	var tr2 = document.createElement("tr"); newTable.appendChild(tr2);
	var td2 = document.createElement("td"); tr2.appendChild(td2);
	td2.innerHTML = obj.desc;
	return newTable;
}

var smallest_day = 0, largest_day = 0;
for (var i = 0; i < resume_data.length; i++) {
	var tmp = (resume_data[i].year_start-1)*360 + resume_data[i].month_start*30;
	if (tmp < smallest_day || smallest_day == 0)
		smallest_day = tmp;
	tmp = (resume_data[i].year_end-1)*360 + resume_data[i].month_end*30;
	if (tmp > largest_day)
		largest_day = tmp;

	var newTable = create_resume_table(resume_data[i]);
	newTable.id = ("resume_vis_" + i);
	document.getElementById("resume_vis").appendChild(newTable);
}
//var interpolate_screen = d3.interpolateNumber(smallest_day, largest_day);
var interpolate_screen = d3.interpolateNumber(0,parseInt(resume_svg.style("width")));
resume_svg.selectAll("rect").data(resume_data).enter().append("rect")
	.attr("x",function(d){return interpolate_screen(((d.month_start*30+(d.year_start-1)*360)-smallest_day)/(largest_day-smallest_day));})
	.attr("y",function(d,i){return i*21;})
	.attr("width",function(d){return interpolate_screen(((12-d.month_start)*30 + (d.month_end)*30 + (d.year_end-1-d.year_start)*360)/(largest_day-smallest_day));}).attr("height",20)
	/*.on("mouseover",function(d,i){document.getElementById(("resume_vis_" + i)).style("visibility","visible");})
	.on("mouseout",function(d,i){document.getElementById(("resume_vis_" + i)).style("visibility","hidden");})*/;


</script>
